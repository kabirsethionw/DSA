package JavaFiddle;

class UniquePath2DP {
    private static int[][] dp;

    private static void markPaths(int i, int j, int[][] og){
        if(i < 0 || j < 0 || og[i][j] == 1) return;
        dp[i][j] = dp[i+1][j] + dp[i][j+1];
        System.out.println("dp["+i+"]["+j+"] = "+ dp[i][j]);
        markPaths(i-1, j, og);
        markPaths(i, j-1, og);
    }

    public static int uniquePathsWithObstacles(int[][] og) {
        int n = og.length, m = og[0].length;
        if(og[n-1][m-1] == 1) return 0;
        dp = new int[n+1][m+1];
        dp[n-1][m-1] = 1;
        markPaths(n-2,m-1, og);
        markPaths(n-1,m-2, og);
        for(int[] row: dp){
            for(int elem: row) System.out.print(elem + " ");
            System.out.println("");
        }

        return dp[0][0];
    }

    public static void main(String[] args) {
        int[][] testArr = {
                {0,0,0,0,0,1,0,1,0,0,0,0,1,0,0,0,0,0},
                {0,0,0,0,0,0,1,0,0,0,0,1,0,1,0,1,0,0},
                {1,0,0,0,0,0,1,0,0,0,0,0,1,0,1,1,0,1},
                {0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0},
                {0,0,0,0,0,1,0,0,0,0,1,1,0,1,0,0,0,0},
                {1,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,1,0},
                {0,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0},
                {0,0,0,0,0,1,0,0,0,0,0,0,1,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {1,1,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0},
                {0,0,1,0,1,0,0,0,0,0,0,1,0,0,0,0,0,0},
                {0,1,0,0,0,1,0,0,0,0,0,0,0,0,1,0,0,0},
                {0,0,1,0,0,0,0,1,0,0,0,0,0,1,0,0,0,1},
                {0,1,0,1,0,1,0,0,0,0,0,0,0,1,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1},
                {1,0,1,1,0,0,0,0,0,0,1,0,1,0,0,0,1,0},
                {0,0,0,1,0,0,0,0,1,1,1,0,0,1,0,1,1,0},
                {0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,1,1,0,0,1,0,0,0,0,0,0,0,1,1,0,0,0},
                {0,0,0,0,0,0,1,0,1,0,0,1,0,1,1,1,0,0},
                {0,0,0,1,0,0,0,0,0,0,0,0,0,0,1,0,1,1},
                {0,1,0,0,0,0,0,0,0,0,1,0,1,0,1,0,1,0},
                {1,0,0,1,0,1,0,0,1,0,0,0,0,0,0,0,0,0},
                {0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0},
                {0,1,0,0,0,0,0,1,0,0,0,0,0,0,1,1,1,0},
                {1,0,1,0,1,0,0,0,0,0,0,1,1,0,0,0,0,1},
                {1,0,0,0,0,0,1,1,0,0,0,1,0,0,0,0,0,0}
        };
        uniquePathsWithObstacles(testArr);
    }
}